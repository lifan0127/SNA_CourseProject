{
    "contents" : "---\ntitle: 'SNA Project: Vegetables and Health Benefits Network'\noutput: word_document\n---\n\nIn this project, I chose to analyze the the correlation between various vegetables and health benefits. [http://www.nutrition-and-you.com](http://www.nutrition-and-you.com/vegetable-nutrition.html) provides a list of vegetables and descriptions of their health benefits. In this project, we use the information and network analysis to analyze the correlation between vegetables and corresponding health benefits. The basic workflow is as follows:\n\n1. Parse the informatin from the website.\n2. Use text mining to extract the key benefit claims.\n3. Perform network analysis on the vegetables and their corresponding benefits.\n\nThis report is composed using [RMarkdown](http://rmarkdown.rstudio.com/). All the R/RMD codes and dataset for this SNA project can be found on Github: [https://github.com/lifan0127/SNA_CourseProject](https://github.com/lifan0127/SNA_CourseProject).\n\n```{r preparation, message=FALSE, warning=FALSE}\nlibrary(tm)\nlibrary(knitr)\nlibrary(stringr)\nlibrary(RWeka)\nlibrary(ggplot2)\nlibrary(gridExtra)\nlibrary(dplyr)  # version 0.3 required\n\n# Load \"vegetables\" data frame from vegetable.RData\nload(\"data/vegetables.RData\")\n\n```\n\n\n### Parse the informatin from the website\n\nThe data was parsed from the website using the RCurl and XML packages. The script can be found in the [Github reposity](https://github.com/lifan0127/SNA_CourseProject) associated with this project. The basic steps includes:\n\n1. Parse vegetable names, images and links from [http://www.nutrition-and-you.com/vegetable-nutrition.html](http://www.nutrition-and-you.com/vegetable-nutrition.html).\n2. Following the links, parse the health benefits for each vegetable.\n3. Manual check to confirm consistency.\n\nA sample of the data (first 5 vegetables) is shown below:\n\n```{r results='asis'}\na <- data_frame(Image=paste0(\"![\", vegetables$Name, \"](image/\", vegetables$Name, \".gif)\"), Name=str_replace_all(vegetables$Name, \"_\", \" \"), Link=vegetables$Link)\n\nkable(a[1:5, ])\n\n```\n\nAs an example, below is an excerpt of the textual description of health benefit related to Asparagus.\n\n\n\n### Data preprocessing\n\nThe first task is to determine the most important health claims. We use term frequency as the measure. First, we computed the frequency distribution of term, 2-gram, 3-gram and 4-grams. \n\n```{r data_preprocessing}\ncorpus.preprocess <- function(corpus){\n  # Helper function to preprocess corpus\n  processed.corpus <- corpus %>%\n    tm_map(content_transformer(tolower)) %>%\n    tm_map(removeNumbers) %>%\n    tm_map(removePunctuation) %>%\n    tm_map(removeWords, stopwords(\"english\")) %>%\n    tm_map(stripWhitespace)\n  return(processed.corpus)\n}\n\ncorpus <- VCorpus(DirSource(\"text\")) %>% corpus.preprocess()\n\ndtm <- DocumentTermMatrix(corpus) \n\nBigramTokenizer <- function(x) NGramTokenizer(x, Weka_control(min = 2, max = 2))\ndtm.2g <- DocumentTermMatrix(corpus, control=list(tokenize = BigramTokenizer))\n\nTrigramTokenizer <- function(x) NGramTokenizer(x, Weka_control(min = 3, max = 3))\ndtm.3g <- DocumentTermMatrix(corpus, control=list(tokenize = TrigramTokenizer)) \n\n```\n\n```{r term_frequency}\n# Helper function to find the most frequent n words\nmost.freq <- function(dtm, n=10){\n  freq <- colSums(as.matrix(dtm))\n  result <- freq[order(freq, decreasing=TRUE)][1:n]\n  return(data_frame(term=names(result), count=result))\n}\n\nggplot(most.freq(dtm), aes(x=reorder(term, -count), y=count)) +\n  geom_bar(stat=\"identity\") +\n  theme_bw() +\n  theme(axis.title.x = element_blank()) +\n  ggtitle(\"Most frequent words in health benefits\")\n\n```\n\nThen, we manually examined the terms and found the most frequent heal-related terms from the frequncy distribution data.\n\n\nFinally, we performed some manual clean-up. For example, \"reduce \"\n\n\n\n\n\n\n\n\n",
    "created" : 1416800859262.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2921410282",
    "id" : "479414F6",
    "lastKnownWriteTime" : 1416806976,
    "path" : "~/GitHub/SNA_CourseProject/SNA_Project.Rmd",
    "project_path" : "SNA_Project.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}